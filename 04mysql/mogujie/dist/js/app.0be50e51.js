(function(t){function e(e){for(var n,s,i=e[0],c=e[1],u=e[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},o={app:0},a=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"008c":function(t,e,r){"use strict";var n=r("c0c3"),o=r.n(n);o.a},"53a4":function(t,e,r){var n={"./assets/bz.jpg":"9e0e","./assets/g4.jpg":"59d6","./assets/zly.jpg":"67da"};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="53a4"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("el-container",[r("el-header",[r("el-row",[r("el-col",{attrs:{span:16}},[r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal",router:""},on:{select:t.handleSelect}},t._l(t.tags,(function(e){return r("el-menu-item",{key:e.name,attrs:{index:e.path}},["cart"===e.name?r("el-badge",{staticClass:"item",staticStyle:{"line-height":"30px"},attrs:{value:t.cartLength}},[t._v(t._s(e.text))]):[t._v(t._s(e.text))]],2)})),1)],1),r("el-col",{attrs:{span:8}},[t.currentStatue?r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.logout("/login")}}},[t._v("退出")])],1):r("el-button-group",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goto("/reg")}}},[t._v("注册")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.goto("/login")}}},[t._v("登陆")])],1)],1)],1)],1),r("el-main",[r("router-view")],1),r("el-footer",[t._v("Footer")])],1)],1)},a=[],s={name:"app",data:function(){return{activeIndex:"/home",tags:[{name:"home",path:"/home",text:"首页",component:"Home"},{name:"list",path:"/list",text:"列表页",component:"List"},{name:"cart",path:"/cart",text:"购物车",component:"Cart"},{name:"mine",path:"/mine",text:"我的",component:"Mine"}]}},methods:{handleSelect:function(t,e){window.console.log(t,e),this.activeIndex=t},goto:function(t){this.$router.push(t)},logout:function(t){window.console.log("退出了"),this.$store.commit("logout"),this.$router.push({path:t})}},components:{},created:function(){this.activeIndex=this.$route.path,this.$store.dispatch("checkLogin")},computed:{cartLength:function(){return this.$store.state.cart.cartList.length},currentStatue:function(){return window.console.log(this.$store.getters.currentStatue),this.$store.state.common.user}}},i=s,c=(r("5c0b"),r("2877")),u=Object(c["a"])(i,o,a,!1,null,null,null),l=u.exports,m=r("5c96"),p=r.n(m),d=(r("0fae"),r("8c4f")),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("主页")]),n("img",{attrs:{src:r("67da"),alt:""}}),n("img",{attrs:{src:t.imgurl,alt:""}}),n("img",{attrs:{src:t.imgurl2,alt:""}}),n("img",{attrs:{src:"/bz.jpg",alt:""}}),n("img",{attrs:{src:"/goods/bz.jpg",alt:""}}),n("router-link",{attrs:{to:{name:"list",params:{a:10,b:20}}}},[t._v("跳列表页")])],1)},f=[],h="/zly.jpg",v={data:function(){return{imgurl:r("67da"),imgurl2:r("53a4")("./assets"+h)}},beforeRouteLeave:function(t,e,r){r()}},b=v,_=Object(c["a"])(b,g,f,!1,null,null,null),y=_.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("登陆页")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),r("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("7天免登陆")]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)},x=[],F=(r("d3b7"),r("96cf"),{name:"Login",data:function(){return{checked:!0,ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){},methods:{open2:function(){this.$message({message:"登陆成功",type:"success"})},open4:function(){this.$message.error("登陆失败")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){var r,n,o,a,s,i;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:if(!t){c.next=10;break}return r=e.ruleForm,n=r.username,o=r.password,c.next=4,regeneratorRuntime.awrap(e.$axios.get("http://localhost:1911/users/login",{params:{name:n,password:o,keep:e.checked}}));case 4:a=c.sent,s=a.data,window.console.log(s),s.code?(e.open2(),e.$store.commit("login",{username:n,Authorization:s.authorization}),i=e.$route.params.targeturl,e.$router.push({path:i||"/mine",query:{name:n}})):e.open4(),c.next=12;break;case 10:return e.open4(),c.abrupt("return",!1);case 12:case"end":return c.stop()}}))}))},resetForm:function(t){this.$refs[t].resetFields()}}}),k=F,$=Object(c["a"])(k,w,x,!1,null,null,null),j=$.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("注册")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)},O=[],S=r("4328"),z=r.n(S),I={data:function(){var t=this,e=function(e,r,n){r!==t.ruleForm.password?n(new Error("两次输入密码不一致!")):n()},r=function(e,r,n){var o,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(t.$axios.get("http://localhost:1911/users/check",{params:{name:t.ruleForm.username}}));case 2:o=s.sent,a=o.data,1==a.code?n():n(new Error("用户名已存在!")),window.console.log(a),window.console.log(e,r,n);case 7:case"end":return s.stop()}}))};return{ruleForm:{username:"",password:"",checkPass:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],checkPass:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:e,trigger:"blur"}]}}},methods:{open2:function(){this.$message({message:"注册成功",type:"success"})},open4:function(){this.$message.error("注册失败")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){var r,n,o,a,s,i;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:if(!t){c.next=10;break}return r=e.ruleForm,n=r.username,o=r.password,a=z.a.stringify({name:n,password:o}),c.next=5,regeneratorRuntime.awrap(e.$axios.post("http://localhost:1911/users/reg",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 5:s=c.sent,i=s.data,i.code?(e.open2(),e.$router.push({name:"login",query:{name:n},params:{name:n}})):(e.open4(),alert("注册失败")),c.next=12;break;case 10:return e.open4(),c.abrupt("return",!1);case 12:case"end":return c.stop()}}))}))},resetForm:function(t){this.$refs[t].resetFields()}}},L=I,C=Object(c["a"])(L,q,O,!1,null,null,null),R=C.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("购物车")]),r("div",{staticClass:"page-cart"},[r("el-steps",{attrs:{active:1,"finish-status":"success"}},[r("el-step",{attrs:{title:"购物车"}}),r("el-step",{attrs:{title:"结算"}}),r("el-step",{attrs:{title:"完成"}})],1),t._l(t.cartList,(function(e){return r("el-row",{key:e.id,staticStyle:{"margin-top":"30px"},attrs:{gutter:30}},[r("el-col",{attrs:{span:4}},[r("img",{attrs:{src:e.imgurl}})]),r("el-col",{attrs:{span:16}},[r("h4",[t._v(t._s(e.name))]),r("p",{staticClass:"price"},[r("span",[t._v(t._s(e.price))]),t._v(" × "),r("el-input-number",{attrs:{size:"mini"},on:{change:function(r){return t.changeQty(e.id,r)}},model:{value:e.qty,callback:function(r){t.$set(e,"qty",r)},expression:"item.qty"}})],1)]),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(r){return t.removeGood(e.id)}}})],1)],1)})),r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{span:12}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.clearCart()}}},[t._v("清空购物车")])],1),r("el-col",{staticClass:"price",staticStyle:{"text-align":"right"},attrs:{span:12}},[t._v(" 总计： "),r("span",[t._v(t._s(t.totalPrice.toFixed(2)))])])],1),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-s-finance"},on:{click:function(e){return t.getkucun(666)}}},[t._v("去结算")])],1)],2)])},P=[],A={data:function(){return{}},computed:{totalPrice:function(){return this.$store.getters.allprice},cartList:function(){return this.$store.state.cart.cartList}},methods:{changeQty:function(t,e){window.console.log(t,e),this.$store.dispatch("getkuncun",{id:t,qty:e})},removeGood:function(t){var e=confirm("你确定要删除吗？");e&&this.$store.commit("removeItem",t)},clearCart:function(){var t=confirm("你确定要清空购物车吗？");t&&this.$store.commit("clearCart")},getkucun:function(t){this.$store.dispatch("getkuncun",t)}},created:function(){var t=this.$store.state.cart.cartList;window.console.log(t)}},M=A,N=(r("6eb1"),Object(c["a"])(M,E,P,!1,null,null,null)),D=N.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("列表页")]),r("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(4,(function(e){return r("el-carousel-item",{key:e},[r("h3",[t._v(t._s(e))])])})),1),r("div",{staticClass:"list"},t._l(t.goodslist,(function(e){return r("div",{key:e.goods.title,staticClass:"good"},[r("h1",[t._v(t._s(e.goods.title))]),r("el-row",{attrs:{gutter:10}},t._l(e.goods.item,(function(e){return r("el-col",{key:e.goods_id,attrs:{span:6},nativeOn:{click:function(r){return t.goto(e.goods_id)}}},[r("div",{staticClass:"grid-content bg-purple"},[r("p",[r("img",{staticClass:"image",attrs:{src:e.goods_image}})]),r("p",[t._v(t._s(e.goods_name))]),r("p",[r("del",[t._v("￥："+t._s(e.goods_price))]),r("strong",[t._v("￥:"+t._s(e.goods_promotion_price))])])])])})),1)],1)})),0)],1)},J=[],U=(r("fb6a"),{props:["username","password"],name:"List",data:function(){return{goodslist:"",currentDate:new Date}},methods:{goto:function(t){this.$router.push({path:"/about/"+t})}},created:function(){var t,e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.$axios.get("https://www.nanshig.com/mobile/index.php"));case 2:t=r.sent,e=t.data.datas,this.goodslist=e.slice(1);case 5:case"end":return r.stop()}}),null,this)}}),G=U,Q=(r("008c"),Object(c["a"])(G,T,J,!1,null,"f92d613a",null)),H=Q.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-image",{staticStyle:{width:"400px"},attrs:{src:t.goodsInfo.goods_image,fit:"contain"}}),r("h1",[t._v(t._s(t.goodsInfo.goods_name))]),r("p",{staticClass:"price"},[r("del",[t._v(t._s(t.goodsInfo.goods_marketprice))]),r("span",[t._v(t._s(t.goodsInfo.goods_price))])]),r("el-button-group",[r("el-button",{attrs:{type:"warning",icon:"el-icon-shopping-cart-full"},on:{click:function(e){return t.addgood()}}},[t._v("加入购物车")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-goods"}},[t._v("立即购买")])],1),r("h4",[t._v("推荐商品")]),r("el-row",{attrs:{gutter:20}},t._l(t.goodsInfo.goods_commend_list,(function(e){return r("el-col",{key:e.goods_id,staticStyle:{height:"300px"},attrs:{span:6},nativeOn:{click:function(r){return t.goto(e.goods_id)}}},[r("el-image",{staticStyle:{width:"80%"},attrs:{src:e.goods_image_url,fit:"contain"}}),r("h6",[t._v(t._s(e.goods_name))]),r("p",{staticClass:"price"},[r("del",[t._v(t._s(e.goods_promotion_price))]),r("span",[t._v(t._s((.8*e.goods_promotion_price).toFixed()))])])],1)})),1)],1)},K=[],V=(r("4de4"),{data:function(){return{goodsInfo:{}}},created:function(){var t=this.$route.params.id;this.getdata(t)},methods:{goto:function(t){this.$router.push({path:"/about/"+t})},getdata:function(t){var e,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.$axios.get("https://www.nanshig.com/mobile/index.php",{params:{act:"goods",op:"goods_detail",goods_id:t,key:""}}));case 2:e=n.sent,r=e.data.datas,this.data=r,this.goodsInfo={goods_info:r.goods_info,goods_commend_list:r.goods_commend_list,goods_image:r.goods_image},window.console.log(r),window.console.log(this.goodsInfo);case 8:case"end":return n.stop()}}),null,this)},addgood:function(){var t=this.goodsInfo.goods_info.goods_id,e=this.$store.state.cart.cartList.filter((function(e){return e.id==t}))[0];if(e){var r=e.qty+1;this.$store.commit("changeqty",{id:t,qty:r})}else{var n={id:t,name:this.goodsInfo.goods_info.goods_name,imgurl:this.goodsInfo.goods_image,price:this.goodsInfo.goods_info.goods_promotion_price,qty:1};this.$store.commit("addItem",n)}}},watch:{},beforeRouteUpdate:function(t,e,r){window.console.log("beforeRouteUpdate:",t,e),this.getdata(t.params.id),r()}}),W=V,X=Object(c["a"])(W,B,K,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("我的")]),r("form",{attrs:{action:"/multer/singup",method:"post",enctype:"multipart/form-data"}},[r("input",{attrs:{type:"file",name:"singleFile",value:""}}),r("input",{attrs:{type:"submit",name:"",value:"上传1"}})]),r("form",{attrs:{action:"/multer/arrup",method:"post",enctype:"multipart/form-data"}},[r("input",{attrs:{type:"file",name:"arrayFile",value:"",multiple:""}}),r("input",{attrs:{type:"submit",name:"",value:"上传2"}})]),r("form",{attrs:{action:"/multer/fieldup",method:"post",enctype:"multipart/form-data"}},[r("input",{attrs:{type:"file",name:"fieldSingleFile",value:""}}),r("input",{attrs:{type:"file",name:"fieldArrayFile",value:"",multiple:""}}),r("input",{attrs:{type:"submit",name:"",value:"上传3"}})])])}],et={methods:{upload:function(){var t,e,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=new FormData,t.set("avatar",this.$refs.avatar.files[0]),n.next=4,regeneratorRuntime.awrap(this.$axios.post("http://localhost:1911/upload",t));case 4:e=n.sent,r=e.data,window.console.log(r);case 7:case"end":return n.stop()}}),null,this)}}},rt=et,nt=Object(c["a"])(rt,Z,tt,!1,null,null,null),ot=nt.exports,at=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},st=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("404")])])}],it={},ct=it,ut=Object(c["a"])(ct,at,st,!1,null,null,null),lt=ut.exports;n["default"].use(d["a"]);var mt=new d["a"]({routes:[{name:"home",path:"/home",component:y},{path:"/",redirect:"/home"},{name:"cart",path:"/cart",component:D,meta:{requiresAuth:!0}},{name:"reg",path:"/reg",component:R},{name:"login",path:"/login",component:j},{name:"404",path:"/404",component:lt},{name:"is404",path:"*",redirect:"/404"},{name:"list",path:"/list",component:H,props:{username:"laoxie",password:123456}},{name:"mine",path:"/mine",component:ot,meta:{requiresAuth:!0}},{name:"about",path:"/about/:id",component:Y}]});mt.beforeEach((function(t,e,r){if(t.meta.requiresAuth){var n=localStorage.getItem("authorization");n?r():mt.push({name:"login",params:{targeturl:t.path}})}else r()}));var pt=mt,dt=r("bc3a"),gt=r.n(dt),ft=r("2f62"),ht=(r("159b"),{state:{cartList:[{id:"1",name:"huawei mate30 pro",imgurl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1576517817228&di=4a68d74f86fbbc86f8ccb149aa0547b5&imgtype=0&src=http%3A%2F%2Fimg3.myhsw.cn%2F2019-09-19%2Fk27xdk3f.jpg",price:5998,qty:6},{id:"2",name:"xiaomi9",imgurl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1571131475&di=2df2d3a54a89db9e09952799acb25261&imgtype=jpg&er=1&src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2F8488db95efa140b9c50cb4615e2ca337a6981aa7.jpg",price:2999,qty:2},{id:"3",name:"onePlus9 pro",imgurl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570536784660&di=d4471f6edf73cace7d98fb05869a9277&imgtype=0&src=http%3A%2F%2Fimg13.360buyimg.com%2Fn1%2Fs450x450_jfs%2Ft28117%2F273%2F1288839750%2F66834%2F8ef15c40%2F5cdd22b8Nbc711aba.jpg",price:3999,qty:1},{id:"4",name:"魅族",imgurl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570536784660&di=d4471f6edf73cace7d98fb05869a9277&imgtype=0&src=http%3A%2F%2Fimg13.360buyimg.com%2Fn1%2Fs450x450_jfs%2Ft28117%2F273%2F1288839750%2F66834%2F8ef15c40%2F5cdd22b8Nbc711aba.jpg",price:799,qty:1}]},getters:{allprice:function(t){return t.cartList.reduce((function(t,e){return t+e.price*e.qty}),0)}},mutations:{removeItem:function(t,e){t.cartList=t.cartList.filter((function(t){return t.id!=e}))},clearCart:function(t){t.cartList=[]},addItem:function(t,e){t.cartList.unshift(e)},changeqty:function(t,e){var r=e.id,n=e.qty;t.cartList.forEach((function(t){t.id==r&&(t.qty=n)}))},fail:function(){m["Message"].error("已经超过库存量了哦")}},actions:{getkuncun:function(t,e){var r,n,o,a,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.id,n=e.qty,i.next=3,regeneratorRuntime.awrap(gt.a.get("http://localhost:1911/goods/kucun",{params:{id:r}}));case 3:o=i.sent,a=o.data,a.data>n?t.commit("changeqty",{id:r,qty:n}):(s=a.data,t.commit("changeqty",{id:r,qty:s}),t.commit("fail")),window.console.log(a),window.console.log(t);case 8:case"end":return i.stop()}}))}}}),vt=ht,bt={state:{user:null},getters:{},mutations:{login:function(t,e){var r=e.username,n=e.Authorization;t.user={username:r,Authorization:n};var o=JSON.stringify(t.user);localStorage.setItem("authorization",o)},logout:function(t){t.user=null,localStorage.removeItem("authorization")}},actions:{checkLogin:function(t){var e,r,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(e=localStorage.getItem("authorization"),e){o.next=5;break}t.commit("logout"),o.next=16;break;case 5:return e=JSON.parse(e),o.next=8,regeneratorRuntime.awrap(gt.a.get("http://localhost:1911/verify",{headers:{Authorization:e.Authorization}}));case 8:if(r=o.sent,n=r.data,1!==n.code){o.next=14;break}t.commit("login",e),o.next=16;break;case 14:return t.commit("logout"),o.abrupt("return",400);case 16:return o.abrupt("return",200);case 17:case"end":return o.stop()}}))}}},_t=bt;n["default"].use(ft["a"]);var yt=new ft["a"].Store({modules:{cart:vt,common:_t}}),wt=yt;n["default"].use(p.a),n["default"].config.productionTip=!1,n["default"].prototype.$axios=gt.a,new n["default"]({router:pt,store:wt,render:function(t){return t(l)}}).$mount("#app")},"59d6":function(t,e,r){t.exports=r.p+"img/g4.8a6f98fa.jpg"},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"67da":function(t,e,r){t.exports=r.p+"img/zly.8c327690.jpg"},"6eb1":function(t,e,r){"use strict";var n=r("b824"),o=r.n(n);o.a},"9c0c":function(t,e,r){},"9e0e":function(t,e,r){t.exports=r.p+"img/bz.c01da334.jpg"},b824:function(t,e,r){},c0c3:function(t,e,r){}});
//# sourceMappingURL=app.0be50e51.js.map